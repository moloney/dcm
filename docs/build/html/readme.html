<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="prev" title="Welcome to dcm’s documentation!" href="index.html" />

    <meta name="generator" content="sphinx-5.1.1, furo 2022.06.21"/>
        <title>dcm - dcm 0.1.0-dev documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">dcm 0.1.0-dev documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">dcm 0.1.0-dev documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">README</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="dcm">
<h1>dcm<a class="headerlink" href="#dcm" title="Permalink to this heading">#</a></h1>
<a class="reference external image-reference" href="https://codecov.io/gh/moloney/dcm"><img alt="https://codecov.io/gh/moloney/dcm/branch/main/graph/badge.svg" src="https://codecov.io/gh/moloney/dcm/branch/main/graph/badge.svg" /></a>
<p>Full documentation available <a class="reference external" href="https://moloney.github.io/dcm">here</a>.</p>
<p>This is a Python package and CLI application for performing high-level DICOM
file and network operations. This includes performing queries, performing
‘rsync’ like data transfers, routing data (including dynamic routing), sorting
data, dumping / diffing data sets, and more.</p>
<p>The goal for the CLI is to provide a human friendly interface for working with
DICOM data and networking. We hide many of the pitfalls and idiosyncrasies of
the DICOM networking standard behind high level abstractions and sensible
defaults. Command line users can tweak these defaults and access more advanced
features through the powerful configuration system.</p>
<p>The goal for the Python API is similar in many ways with a different audience.
Again we want to provide a high-level and user friendly API that hides many of
the lower level details when appropriate. Obviously the Python API is much more
expansive and flexible. The API we provide leverages asyncio for concurrency
and uses type hints extensively (which are checked by mypy in the test suite).</p>
<p>This project would not be possible without the hard work of the
<a class="reference external" href="https://pydicom.github.io">pydicom</a> and
<a class="reference external" href="https://pydicom.github.io">pynetdicom</a> contributors.</p>
<p>Requires Python 3.7+.</p>
<section id="cli-quickstart">
<h2>CLI Quickstart<a class="headerlink" href="#cli-quickstart" title="Permalink to this heading">#</a></h2>
<p>After installing the python package you will have the command <code class="docutils literal notranslate"><span class="pre">dcm</span></code> available.
Running <code class="docutils literal notranslate"><span class="pre">dcm</span> <span class="pre">--help</span></code> will give an overview of the CLI options.</p>
<p>Before interacting with most DICOM servers (e.g a PACS) you will need to have
your computer registered by the administrator of that system with a specific
AETitle and port.</p>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">conf</span></code> command to edit the <a class="reference external" href="https://toml.io">TOML</a>
configuration file and add your AETitle and port in the <code class="docutils literal notranslate"><span class="pre">[local_nodes.default]</span></code>
section.  You can also add any PACS or other servers at this point in the
<code class="docutils literal notranslate"><span class="pre">[remote_nodes]</span></code> section.</p>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">echo</span></code> command to test connectivity with a DICOM server:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dcm <span class="nb">echo</span> mypacs.org:MYPACS:11112
<span class="go">Success</span>
</pre></div>
</div>
<p>Any command that requires DICOM network node information can take it directly
as <code class="docutils literal notranslate"><span class="pre">hostname:ae_title:port</span></code> as we have done above, or you can reference nodes
in your config file by name. For excample if our config file contains this
section:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[remote_nodes.mypacs]</span><span class="w"></span>
<span class="n">hostname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;mypacs.org&quot;</span><span class="w"></span>
<span class="n">ae_title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;MYPACS&quot;</span><span class="w"></span>
<span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">11112</span><span class="w"></span>
</pre></div>
</div>
<p>We could rewrite the last command as simply:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dcm <span class="nb">echo</span> mypacs
<span class="go">Success</span>
</pre></div>
</div>
<p>We can query the remote system using the <code class="docutils literal notranslate"><span class="pre">query</span></code> command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dcm query mypacs <span class="nv">StudyDate</span><span class="o">=</span><span class="m">20201031</span>

<span class="go">2 patients | 3 studies | 56 series | 17174 instances</span>
<span class="go">└── ID: Vamp001 | Name: Dracula^Count | 2 studies | 35 series | 8974 instances</span>
<span class="go">│   ├── Date: 20201031 | Time: 164315.866000 | 21 series | 8200 instances</span>
<span class="go">│   └── Date: 20201031 | Time: 203205.137000 | 14 series | 774 instances</span>
<span class="go">└── ID: Vamp002 | Name: Chocula^Count | 1 studies | 21 series | 8200 instances</span>
<span class="go">    └── Date: 20201031 | Time: 102407.269000 | 21 series | 8200 instances</span>
</pre></div>
</div>
<p>Once we find the data we want to download we can use the <code class="docutils literal notranslate"><span class="pre">sync</span></code> command to transfer
it.  We can even just pipe the output from the <code class="docutils literal notranslate"><span class="pre">query</span></code> command into the <code class="docutils literal notranslate"><span class="pre">sync</span></code> command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dcm query mypacs <span class="nv">StudyDate</span><span class="o">=</span><span class="m">20201031</span> <span class="nv">PatientID</span><span class="o">=</span>Vamp001 <span class="p">|</span> dcm sync path/to/save/data
</pre></div>
</div>
<p>This is equivalent to running:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dcm sync -s mypacs -q <span class="nv">StudyDate</span><span class="o">=</span><span class="m">20201031</span> -q <span class="nv">PatientID</span><span class="o">=</span>Vamp001 path/to/save/data
</pre></div>
</div>
<p>The data will be saved into the provided directory, sorted into a directory hierarchy
by patient / study / series.</p>
<p>You can actually provide multiple sources and multiple destinations to the <code class="docutils literal notranslate"><span class="pre">sync</span></code>
command, and both the sources and and destinations can be either directories or
network nodes. By default, whenever possible, all data that already exists on the
destination is skipped (unless <code class="docutils literal notranslate"><span class="pre">--force-all</span></code> is used). For local directories we
have no way of reliably knowing what already exists so we can’t do this (adding
a Sqlite database option to manage this is future work).</p>
</section>
<section id="python-quickstart">
<h2>Python Quickstart<a class="headerlink" href="#python-quickstart" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">net.LocalEntity</span></code> class provides an high-level async API for most common
DICOM networking tasks.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dcm.net</span> <span class="kn">import</span> <span class="n">DcmNode</span><span class="p">,</span> <span class="n">LocalEntity</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">local</span> <span class="o">=</span> <span class="n">LocalEntity</span><span class="p">(</span><span class="n">DcmNode</span><span class="p">(</span><span class="s1">&#39;0.0.0.0&#39;</span><span class="p">,</span> <span class="s1">&#39;LOCALAE&#39;</span><span class="p">,</span> <span class="mi">11112</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mypacs</span> <span class="o">=</span> <span class="n">DcmNode</span><span class="p">(</span><span class="s1">&#39;mypacs.org&#39;</span><span class="p">,</span> <span class="s1">&#39;MYPACS&#39;</span><span class="p">,</span> <span class="mi">11112</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">local</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="n">mypacs</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We can use it to perform queries, all at once with the <code class="docutils literal notranslate"><span class="pre">query</span></code> method or
through an async generator using the <code class="docutils literal notranslate"><span class="pre">queries</span></code> method, which will produce
<code class="docutils literal notranslate"><span class="pre">query.QueryResult</span></code> objects.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pydicom</span> <span class="kn">import</span> <span class="n">Dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">query</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">query</span><span class="o">.</span><span class="n">StudyDate</span> <span class="o">=</span> <span class="s1">&#39;20201031&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qr</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">local</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">mypacs</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">qr</span><span class="o">.</span><span class="n">to_tree</span><span class="p">())</span>

<span class="go">2 patients | 3 studies | 56 series | 17174 instances</span>
<span class="go">└── ID: Vamp001 | Name: Dracula^Count | 2 studies | 35 series | 8974 instances</span>
<span class="go">│   ├── Date: 20201031 | Time: 164315.866000 | 21 series | 8200 instances</span>
<span class="go">│   └── Date: 20201031 | Time: 203205.137000 | 14 series | 774 instances</span>
<span class="go">└── ID: Vamp002 | Name: Chocula^Count | 1 studies | 21 series | 8200 instances</span>
<span class="go">    └── Date: 20201031 | Time: 102407.269000 | 21 series | 8200 instances</span>
</pre></div>
</div>
<p>The easiest way to save this data locally is to use the download method which
will save all the DICOM files into a single directory, using the SOPInstanceUID
to name the files.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">local</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">mypacs</span><span class="p">,</span> <span class="n">qr</span><span class="p">,</span> <span class="s1">&#39;path/to/save/data&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>For more control you can use the <code class="docutils literal notranslate"><span class="pre">retrieve</span></code> method which is an async generator
that produces the incoming data as <code class="docutils literal notranslate"><span class="pre">pydicom.Dataset</span></code> objects.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span> <span class="nf">print_incoming</span><span class="p">(</span><span class="n">local</span><span class="p">,</span> <span class="n">remote</span><span class="p">,</span> <span class="n">qr</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">async</span> <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">local</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="n">remote</span><span class="p">,</span> <span class="n">qr</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">SOPInstanceUID</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">print_incoming</span><span class="p">(</span><span class="n">local</span><span class="p">,</span> <span class="n">mypacs</span><span class="p">,</span> <span class="n">qr</span><span class="p">))</span>
</pre></div>
</div>
<p>Higher level data transfer functionality is exposed through the <code class="docutils literal notranslate"><span class="pre">route</span></code> and <code class="docutils literal notranslate"><span class="pre">sync</span></code>
modules. You can create <code class="docutils literal notranslate"><span class="pre">route.StaticRoute</span></code> and <a href="#id1"><span class="problematic" id="id2">``</span></a>route.DynamicRoute``objects to add
on-the-fly data filtering and dynamic selection of destinations.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">route.Router</span></code> object can then be created with one or more routes and can then be
used to both do “pre-routing” using the <code class="docutils literal notranslate"><span class="pre">Router.pre_route</span></code> method or on-the-fly
routing using the <code class="docutils literal notranslate"><span class="pre">Router.route</span></code> context manager.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">sync.sync</span></code> function provides the highest level abstraction for data transfers,
and is the closest to the CLI <code class="docutils literal notranslate"><span class="pre">sync</span></code> command in functionality. This function is mostly
a convienance wrapper around the <code class="docutils literal notranslate"><span class="pre">sync.SyncManager</span></code> class which allows for more
control over how transfers are generated and what to do with them.</p>
</section>
<section id="contributing-quickstart">
<h2>Contributing Quickstart<a class="headerlink" href="#contributing-quickstart" title="Permalink to this heading">#</a></h2>
<p>If your system python is too old, or you want to be able to run the tests locally
against multiple python versions it is recommended that you use
<a class="reference external" href="https://github.com/pyenv/pyenv">pyenv</a> to manage installed python versions.</p>
<p>We use the newer “pyproject.toml” instead of a “setup.py” (plus a bunch of other
files). Using <a class="reference external" href="https://python-poetry.org/">poetry</a> to manage dependencies and
virtual environments is highly recommended.</p>
<p>All code should be formatted with the <a class="reference external" href="https://github.com/psf/black">black</a> code
formatter, and this will be done automatically before each commit by
<a class="reference external" href="https://pre-commit.com/">pre-commit</a> if you run <code class="docutils literal notranslate"><span class="pre">poetry</span> <span class="pre">run</span> <span class="pre">pre-commit</span> <span class="pre">install</span></code> once
from inside your local git repo.</p>
<p>All code should be typed and pass the <a class="reference external" href="http://mypy-lang.org/">mypy</a> type checker
unless there is a good reason not to.</p>
<section id="running-tests-locally">
<h3>Running Tests Locally<a class="headerlink" href="#running-tests-locally" title="Permalink to this heading">#</a></h3>
<p>The dependencies needed for testing and development are all listed as poetry
“development dependencies”. Doing <code class="docutils literal notranslate"><span class="pre">poetry</span> <span class="pre">run</span> <span class="pre">pytest</span> <span class="pre">--slow</span></code> is the easiest way to run
all the tests against the current environment. Leaving off the <code class="docutils literal notranslate"><span class="pre">--slow</span></code> argument will
skip some particularly slow tests.</p>
<p>If you have multiple python versions setup with pyenv you can do <code class="docutils literal notranslate"><span class="pre">poetry</span> <span class="pre">run</span> <span class="pre">tox</span></code> to
run the tests against all versions.</p>
<p>While the mypy checker is run by default by pytest, one advantge of mypy is that it
can run many orders of magnitude faster that the test suite while still catching many
errors. You can do <code class="docutils literal notranslate"><span class="pre">poetry</span> <span class="pre">run</span> <span class="pre">mypy</span></code> to just run the mypy checker.</p>
<p>Many tests will be skipped if <a class="reference external" href="https://dicom.offis.de/dcmtk.php.en">dcmtk</a> is not
installed as we use it to provide a test server. Most tests will still run against
a different test server provided by the pynetdicom <code class="docutils literal notranslate"><span class="pre">qrscp</span></code> app.</p>
</section>
<section id="continuous-integration">
<h3>Continuous integration<a class="headerlink" href="#continuous-integration" title="Permalink to this heading">#</a></h3>
<p>We use <a class="reference external" href="https://github.com/features/actions">github actions</a> to automatically run
the test suite on all pushes and pull requests.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="index.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Home</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Brendan Moloney
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">dcm</a><ul>
<li><a class="reference internal" href="#cli-quickstart">CLI Quickstart</a></li>
<li><a class="reference internal" href="#python-quickstart">Python Quickstart</a></li>
<li><a class="reference internal" href="#contributing-quickstart">Contributing Quickstart</a><ul>
<li><a class="reference internal" href="#running-tests-locally">Running Tests Locally</a></li>
<li><a class="reference internal" href="#continuous-integration">Continuous integration</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    </body>
</html>